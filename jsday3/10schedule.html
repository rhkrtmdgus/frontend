<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>jsday3_object & sort</title>
    <style>
        table {
            width: 80%;
        }
        td {
            border: 1px solid tomato;
            width: 10%;
            padding: 7px 12px;
            text-align: center;
        }
        th {
            width: 13%;
            background-color: tomato;
            color: white;
            padding: 7px 12px;
        }
    </style>
</head>
<body>
    <table>
        <tr>
            <th>TIME</th><th>TODO</th>
        </tr>
        <tbody id = "contents"></tbody>
    </table>
    <button id = "add">일정 추가하기</button>
    <!-- tbody 태그는 표에서 제목행이 아닌 내용이 들어가는 요소
            document.getElementById('contents').innerHTML = result에서 
            tr행들 넣어줄 부모요소 -->
<script>
    const schedule = [{time:'09:00',todo:'수업'},
                          {time:'11:00',todo:'과제'},
                          {time:'12:30',todo:'점심식사'},
                          {time:'14:00',todo:'주간회의'},
                          {time:'16:45',todo:'자료조사'}]
    
    
    const set_contents = function(){
        let result = ''
        schedule.forEach(function(value){   //배열 요소인 value는 객체입니다.
            result += `<tr><td>${value.time}</td>
                        <td>${value.todo}</td></tr>`
        })
        document.getElementById('contents').innerHTML = result
    }
    set_contents() // 함수 호출
    document.getElementById('add').addEventListener('click', add_schedule)
    function add_schedule(){
        let atime = prompt('시간을 입력하세요')
        let atodo = prompt('할일을 입력하세요')

        //배열 요소 추가 : push() 함수
        schedule.push({time:atime, todo:atodo})
        schedule.sort(function(a,b){
        if(b.time> a.time) return -1
        else return 1
        })
        set_contents()
        // const newtr = document.createElement('tr')
        // const newtd = `<td>${atime}</td>
        //                 <td>${atodo}</td>`
        // newtr.innerHTML = newtd
        // document.getElementById('contents').appendChild(newtr)
        
        
    }
</script>
</body>
</html>